---
title: "Open directory search"
date: 2022-09-08T15:22:35-07:00
tags: ["programming", "tool"]
draft: false
---

# Open Directory Search

This is a tool to assist using google search (or duckduckgo).

# What is an open directory?

An open directory is a unconfigured web server, with files uploaded, the result is a series of autogenerated index pages allowing the server to be explored.

Lots of interesting, hard to find, or just weird stuff can be found on these servers

{{< rawhtml >}}
<form id=od onsubmit="return search()">
<input hint="Search term" id="term" placeholder="search term"/><br/>
<input type="checkbox" id="documents"/> <label for="documents">Documents (pdf, txt, epub)</label><br/>
<input type="checkbox" id="video"/> <label for="videos">Videos (mp4, mp3, m4p, webm, mkv)</label><br/>
<input type="checkbox" id="audio"/> <label for="audio">Audio (mp3, ogg, wav)</label><br/>
<input type="checkbox" id="img"/> <label for="img">Images (jpg, png, qoi, tff, svg)</label><br/>
<input type="checkbox" id="compressed"/> <label for="img">Compressed and archives (zip, bz, bz2, xz, tar, gz, 7x, rar)</label><br/>
<input type="checkbox" id="all"/> <label for="all">All filetypes</label><br/>
<input type="submit" id="submit" value="Generate!"/>
</form>

<p>Google: </p>
<a id=link><code id=out>Use the generate button to generate link</code></a>
<p>DDG (usually has worse results): </p>
<a id=linkddg><code id=outddg>Use the generate button to generate link</code></a>

<script defer>
	var ftypenames = ['documents', 'audio', 'video', 'img', 'compressed']; 
	var filetypes = {
		documents: ['pdf', 'txt', 'epub'],
		audio: ['mp3', 'ogg', 'wav'],
		video: ['mp4', 'mkv', 'webm', 'mpa'],
		img: ['png', 'tff', 'jpg', 'svg', 'qoi'],
		compressed: ['xz', 'zip', 'rar', '7z', 'tar', 'gz', 'bzip', 'bz', 'bzip2']
	};
	function search() {
		var form = document.forms["od"];
		// Basic Open directory search term
		var base = 'intitle:"index.of./" -inurl:(asp|jsp|php|aspx|index_of) '
		var baseddg = '"index.of./" '
		// Validate and proccess search term
		if (form.term.value === '') {
			alert("Please provide a search term")
			return false;
		}
		var term = form.term.value;
		term = term.toLowerCase().replace(/ |\t|\n|,|\.|\-|_/g, '.');
		// Create file type filter
		var filefilter = ""
		if (!form.all.checked) {
			var allowedfiletypes = []
			for (var i = 0; i<ftypenames.length; i++) {
				console.log(ftypenames[i])
				if (form[ftypenames[i]].checked)
					allowedfiletypes = allowedfiletypes.concat(filetypes[ftypenames[i]])
			}
			console.log(allowedfiletypes)
			filefilter = allowedfiletypes.join('|')
		}
		var search = base + filefilter + " " + term;
		var searchddg = baseddg + filefilter + " " + term;
		console.log(search);
		document.getElementById("out").innerText = search;
		document.getElementById("link").href = "https://google.com/search?q=" + search;
		document.getElementById("outddg").innerText = searchddg;
		document.getElementById("linkddg").href = "https://duckduckgo.com/?q=" + searchddg;
		return false;
	}
</script>
{{< /rawhtml >}}

